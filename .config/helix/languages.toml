[language-server]
pyright = { command = "pyright-langserver", args = ["--stdio"], config = {} }

[[language]]
name = "python"
scope = "source.python"
injection-regex = "py(thon)?"
file-types = ["py", "pyi", "py3", "pyw", "ptl", "rpy", "cpy", "ipy", "pyt", { glob = ".python_history" }, { glob = ".pythonstartup" }, { glob = ".pythonrc" }, { glob = "*SConstruct" }, { glob = "*SConscript" }, { glob = "*sconstruct" }]
shebangs = ["python", "uv"]
roots = ["pyproject.toml", "setup.py", "uv.lock", "poetry.lock", "pyrightconfig.json", "requirements.txt"]
comment-token = "#"
language-servers = ["pyright","ruff"]
indent = { tab-width = 4, unit = "    " }
auto-format = true


[language.formatter]
command = "ruff"
args = [
  "check",
  "--fix",
  "--stdin-filename",
  "{buffer_path}",
  "-"
]

[[grammar]]
name ="python"
source = { git = "https://github.com/tree-sitter/tree-sitter-python", rev = "4bfdd9033a2225cc95032ce77066b7aeca9e2efc" }
